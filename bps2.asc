Version 4
SHEET 1 880 952
WIRE -192 -192 -256 -192
WIRE -176 -192 -192 -192
WIRE -144 -192 -176 -192
WIRE -128 -192 -144 -192
WIRE -16 -192 -48 -192
WIRE 16 -192 -16 -192
WIRE 208 -192 80 -192
WIRE 304 -192 272 -192
WIRE 336 -192 304 -192
WIRE 432 -192 416 -192
WIRE 464 -192 432 -192
WIRE 480 -192 464 -192
WIRE 544 -192 480 -192
WIRE -256 -176 -256 -192
WIRE 544 -176 544 -192
WIRE -368 -160 -384 -160
WIRE -304 -160 -368 -160
WIRE -192 -160 -192 -192
WIRE 480 -160 480 -192
WIRE 656 -160 592 -160
WIRE 672 -160 656 -160
WIRE -304 -112 -320 -112
WIRE 608 -112 592 -112
WIRE -256 -80 -256 -96
WIRE -192 -80 -192 -96
WIRE -192 -80 -256 -80
WIRE 480 -80 480 -96
WIRE 544 -80 544 -96
WIRE 544 -80 480 -80
WIRE -256 -64 -256 -80
WIRE -192 -64 -192 -80
WIRE -144 -64 -144 -192
WIRE 432 -64 432 -192
WIRE 480 -64 480 -80
WIRE 544 -64 544 -80
WIRE -368 -48 -384 -48
WIRE -304 -48 -368 -48
WIRE 656 -48 592 -48
WIRE 672 -48 656 -48
WIRE -320 0 -320 -112
WIRE -304 0 -320 0
WIRE 608 0 608 -112
WIRE 608 0 592 0
WIRE -256 32 -256 16
WIRE -192 32 -192 0
WIRE -192 32 -256 32
WIRE 480 32 480 0
WIRE 544 32 544 16
WIRE 544 32 480 32
WIRE -256 48 -256 32
WIRE 544 48 544 32
WIRE -368 64 -384 64
WIRE -304 64 -368 64
WIRE 656 64 592 64
WIRE 672 64 656 64
WIRE -320 112 -320 0
WIRE -304 112 -320 112
WIRE 608 112 608 0
WIRE 608 112 592 112
WIRE -320 144 -320 112
WIRE -256 144 -256 128
WIRE -256 144 -320 144
WIRE -144 144 -144 0
WIRE -144 144 -256 144
WIRE 16 144 -144 144
WIRE 144 144 80 144
WIRE 208 144 144 144
WIRE 432 144 432 0
WIRE 432 144 272 144
WIRE 544 144 544 128
WIRE 544 144 432 144
WIRE 608 144 608 112
WIRE 608 144 544 144
WIRE 144 160 144 144
WIRE -352 208 -368 208
WIRE 320 208 304 208
WIRE -368 288 -368 208
WIRE -352 288 -368 288
WIRE 304 288 304 208
WIRE 320 288 304 288
WIRE -368 368 -368 288
WIRE -352 368 -368 368
WIRE 304 368 304 288
WIRE 320 368 304 368
WIRE -368 384 -368 368
WIRE 304 384 304 368
FLAG 144 160 0
FLAG -368 384 0
FLAG -272 208 Vset1
FLAG -272 288 Ipset1
FLAG -272 368 Inset1
FLAG -368 64 Vset1
FLAG -368 -160 Ipset1
FLAG -368 -48 Inset1
FLAG -16 -192 Vout1
FLAG 304 384 0
FLAG 400 208 Vset2
FLAG 400 288 Ipset2
FLAG 400 368 Inset2
FLAG 656 64 Vset2
FLAG 656 -160 Ipset2
FLAG 656 -48 Inset2
FLAG 304 -192 Vout2
FLAG 464 -192 Vint2
FLAG -176 -192 Vint1
SYMBOL Misc\\EuropeanResistor -32 -208 R90
WINDOW 0 5 56 Invisible 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {ri1}
SYMBOL diode -208 -160 R0
WINDOW 0 24 0 Invisible 2
WINDOW 3 24 64 Invisible 2
SYMATTR InstName D1
SYMATTR Value DD
SYMBOL diode -176 0 R180
WINDOW 0 24 64 Invisible 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D2
SYMATTR Value DD
SYMBOL g -256 -192 R0
WINDOW 0 24 16 Invisible 2
WINDOW 3 24 96 Invisible 2
SYMATTR InstName G1
SYMATTR Value 1
SYMBOL g -256 -80 R0
WINDOW 0 24 16 Invisible 2
WINDOW 3 24 96 Invisible 2
SYMATTR InstName G2
SYMATTR Value 1
SYMBOL e -256 32 R0
WINDOW 0 24 16 Invisible 2
WINDOW 3 24 96 Invisible 2
SYMATTR InstName E1
SYMATTR Value 1
SYMBOL diode -128 0 R180
WINDOW 0 24 64 Invisible 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D3
SYMATTR Value DD
SYMBOL voltage -256 208 R90
WINDOW 0 -32 56 Invisible 2
WINDOW 3 -14 -79 VTop 2
SYMATTR InstName V2
SYMATTR Value 10
SYMBOL voltage -256 288 R90
WINDOW 0 -32 56 Invisible 2
WINDOW 3 -16 -81 VTop 2
SYMATTR InstName V3
SYMATTR Value 1
SYMBOL voltage -256 368 R90
WINDOW 0 -32 56 Invisible 2
WINDOW 3 -15 -78 VTop 2
SYMATTR InstName V4
SYMATTR Value -1
SYMBOL Misc\\jumper 48 -256 R0
WINDOW 0 0 40 Invisible 2
SYMATTR InstName X1
SYMBOL Misc\\jumper 48 80 R0
WINDOW 0 0 40 Invisible 2
SYMATTR InstName X2
SYMBOL diode 496 -160 M0
WINDOW 0 24 0 Invisible 2
WINDOW 3 24 64 Invisible 2
SYMATTR InstName D4
SYMATTR Value DD
SYMBOL diode 464 0 M180
WINDOW 0 24 64 Invisible 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D5
SYMATTR Value DD
SYMBOL g 544 -192 M0
WINDOW 0 24 16 Invisible 2
WINDOW 3 24 96 Invisible 2
SYMATTR InstName G3
SYMATTR Value 1
SYMBOL g 544 -80 M0
WINDOW 0 24 16 Invisible 2
WINDOW 3 24 96 Invisible 2
SYMATTR InstName G4
SYMATTR Value 1
SYMBOL e 544 32 M0
WINDOW 0 24 16 Invisible 2
WINDOW 3 24 96 Invisible 2
SYMATTR InstName E2
SYMATTR Value 1
SYMBOL diode 416 0 M180
WINDOW 0 24 64 Invisible 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D6
SYMATTR Value DD
SYMBOL voltage 416 208 M270
WINDOW 0 24 16 Invisible 2
WINDOW 3 0 -56 VLeft 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE(10 2 1000)
SYMBOL voltage 416 288 M270
WINDOW 0 32 56 Invisible 2
WINDOW 3 13 -98 VBottom 2
SYMATTR InstName V6
SYMATTR Value 100
SYMBOL voltage 416 368 M270
WINDOW 0 32 56 Invisible 2
WINDOW 3 15 -96 VBottom 2
SYMATTR InstName V7
SYMATTR Value -100
SYMBOL Misc\\jumper 240 -256 M0
WINDOW 0 0 40 Invisible 2
SYMATTR InstName X3
SYMBOL Misc\\jumper 240 80 M0
WINDOW 0 0 40 Invisible 2
SYMATTR InstName X4
SYMBOL Misc\\EuropeanResistor 432 -208 R90
WINDOW 0 5 56 Invisible 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {ri2}
TEXT -96 488 Left 2 !.model DD D(Ron=1u Roff=1Meg Vfwd=1u)
TEXT 102 420 Left 2 !.tran 1m
TEXT -328 -248 Left 2 ;Bidirectional Power Supply 1
TEXT 632 -248 Right 2 ;Bidirectional Power Supply 2
TEXT -352 416 Left 2 !.param Ri1 = 1u
TEXT 320 416 Left 2 !.param Ri2 = 1
TEXT -16 528 Left 2 ;Vset: Voltage set point\nIpset: Positive current set point\nInset: Negative current set point\nRi: Internal resistance
TEXT 144 256 Center 2 ;Falk Kyburz\n2023-02-18
LINE Normal 48 160 48 -224 2
LINE Normal -416 160 48 160 2
LINE Normal -416 -224 -416 160 2
LINE Normal 48 -224 -416 -224 2
LINE Normal 48 448 48 160 2
LINE Normal -416 448 48 448 2
LINE Normal -416 160 -416 448 2
LINE Normal 240 160 240 -224 2
LINE Normal 704 160 240 160 2
LINE Normal 704 -224 704 160 2
LINE Normal 240 -224 704 -224 2
LINE Normal 240 448 240 160 2
LINE Normal 704 448 240 448 2
LINE Normal 704 160 704 448 2
